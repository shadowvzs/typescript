!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=6)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRef=t.useEffect=t.useState=t.attrDown=t.renderSubTree=t.removeElement=t.refresh=t.renderElem=t.render=t.mount=t.ce=t.Fragment=t.build=t.vDom=t.VDom=void 0;const n=o(5),r=o(2),i=o(3),s=o(1);class a{constructor(e="body"){this.hookMap={},this.hookKey=void 0,this.$recycleBin=document.createElement("div"),this.events=i.events,this._safeLoadQueue=[],this.namespacedTags={svg:"http://www.w3.org/2000/svg",path:"http://www.w3.org/2000/svg"},this.Fragment=e=>this.build("fragment",{},e.children),this.$root=document.querySelector(e),r.classAutobind(this),window.addEventListener("load",this.onPageLoaded)}onPageLoaded(){this._safeLoadQueue.forEach(this.safeLoad),window.removeEventListener("load",this.onPageLoaded)}safeLoad(e){"complete"===document.readyState?e():this._safeLoadQueue.push(e)}ce(e,{attrs:t={},children:o=[]}={}){t||(t={}),o||(o=[]),t.children&&(o.push(t.children),delete t.children);const r=Object.assign(Object.create(null),{tagName:e,attrs:t,children:o});return n.forEach(o.filter(e=>"object"==typeof e&&null!==e),e=>{e.attrs||(e.attrs={}),e.parent=r}),r}isEventProp(e){return/^on/.test(e)}setAttribute(e,t,o){if(this.isEventProp(t))o&&this.events.addListener(e,t.substr(2).toLowerCase(),o);else if(~["key","ref","html","build","hookKey"].indexOf(t))if("ref"===t){const t=typeof o;if("function"===t)o(e);else if(Array.isArray(o)){const[t,n]=o;t[n]=e}else"object"===t&&o&&(o.current=e)}else"html"===t&&(e.innerHTML=o);else e.getAttribute(t)!==o&&("className"===t?(t="class",Array.isArray(o)&&(o=o.join(" "))):"style"===t&&o&&"object"==typeof o&&(o=s.toStyle(o)),(o||"number"==typeof o||e.getAttribute(t))&&e.setAttribute(t,o));return e}removeAttribute(e,t){if(this.isEventProp(t))this.events.removeListener(e);else if(~["ref","key","html","build","hookKey"].indexOf(t)){if("html"===t)e.innerHTML="";else if("ref"===t){if(!e.vRef)return e;const o=e.vRef.attrs[t],n=typeof o;if(Array.isArray(o)){const[e,t]=o;e[t]=null}else"object"===n&&o&&(o.current=null)}else if("hookKey"===t&&e.vRef){const t=e.vRef.attrs.hookKey;this.hookMap[t];delete this.hookMap[t]}}else"className"===t?e.className="":e.getAttribute(t)&&e.removeAttribute(t);return e}removeAttributes(e,t){for(const o in t)this.removeAttribute(e,o)}mount(e,t){let o=this.render(t);return this.$root&&e!==this.$root||(this.$root=o),e.vRef&&1===o.nodeType&&(e.vRef.$elem=o,o.vRef||(o.vRef=t),e.vRef.parent&&(o.vRef.parent=e.vRef.parent)),this.removeChilds(e),e.replaceWith(o),o}insertChild(e,t){e&&e.nodeType&&e.vRef||console.error("Not assigned virtual DOM for real DOM",e);const o=e.vRef;if(!o||!o.children)return;const n=[...o.children,t],r={...o,children:n};t.parent=o,this.mount(e,r)}zip(e,t){const o=[],n=Math.min(e.length,t.length);let r=0;for(;r<n;r++)o.push([e[r],t[r]]);return o}updateAttrs(e,t){const o=[];for(const n in e)t&&n in t&&!this.isEventProp(n)||o.push(e=>this.removeAttribute(e,n));return t&&n.objFor(t,(e,t)=>o.push(o=>this.setAttribute(o,e,t))),r=>{n.forEach(o,e=>e(r));const i=e.hookKey&&this.hookMap[e.hookKey],s=t&&t.hookKey&&this.hookMap[t.hookKey];return s&&s.effect&&s.effect.shouldRun&&(!i||!s.effect.dep||i.effect&&i.effect.lastDep!==s.effect.lastDep)&&(s.effect.unmountCb=s.effect.mountCb()),!i||!e.hookKey||t&&e.hookKey===t.hookKey||delete this.hookMap[e.hookKey],r}}appendUpdateCb(e){return t=>(t.appendChild(this.render(e)),t)}updateChildren(e,t){const o=[],r=[];return n.forEach(e,(e,n)=>o.push(this.update(e,t[n]))),n.concat(r,n.map(t.slice(e.length),this.appendUpdateCb)),e=>{const t=this.zip(o,e.childNodes);return n.forEach(t,([e,t])=>e(t)),n.forEach(r,t=>t(e)),e}}update(e,t){return void 0===t?(e&&e.attrs&&e.attrs.hookKey&&console.info("remove elem"),(e=this.$App)=>{this.removeElement(e)}):"object"!=typeof e||"object"!=typeof t?e!==t?(e=this.$App)=>this.mount(e,t):(e=this.$App)=>e:e.tagName!==t.tagName?(e.attrs.hookKey&&console.info("replace elem"),e=>this.mount(e,t)):(o=this.$App)=>(t.$elem=o,o.vRef=t,this.isElement(o)&&(this.updateAttrs(e.attrs,t.attrs)(o),this.updateChildren(e.children||[],t.children||[])(o)),o)}isElement(e){return"object"==typeof e&&1===e.nodeType}injectAttrs(e,t){return n.objMerge(e.attrs,t),e}attrDown(e,t){e&&e.length&&t&&e.forEach((o,n)=>{if(o&&o.attrs&&o.attrs.build){const[r,i]=o.attrs.build,s=r({...i,...t});e[n]=s}})}find(e,t,o=this.App){t&&t.split(",").map(e=>e.split("="))}removeChilds(e){e.children&&n.forEach(n.toArray(e.children),e=>this.removeElement(e))}removeElement(e){if(!e)return;e.children&&this.removeChilds(e);const t=e.vRef;if(t){const o=t.attrs;Object.keys(o).length&&this.removeAttributes(e,o),this.events.removeListener(e)}e.remove(),this.$recycleBin.appendChild(e),this.$recycleBin.innerHTML=""}renderElem({tagName:e="div",attrs:t,children:o=[]}){const r=this.namespacedTags[e],i=r?document.createElementNS(r,e):"fragment"===e?document.createDocumentFragment():document.createElement(e);return this.updateAttrs([],t)(i),n.forEach(o,e=>i.appendChild(this.render(e))),i}render(e){if("object"!=typeof e)return document.createTextNode(e||"");const t=this.renderElem(e);return t.vRef=e,e.$elem=t,t}renderSubTree(e,t,o){const n=e.vRef;n&&(o.oldSym=n.attrs.hookKey);const r=this.build(t,o);if(!n)return console.error("Virtual tree on dom not exist!"),void this.mount(e,r);const i=n.parent,s=i.children.findIndex(e=>e===n);i.children[-1===s?0:s]=r,r.parent=i,e.vRef=r;this.update(n,r)(e).vRef=r}hookSetter(e){return t=>{const o=this.hookMap[e];if(!o)return console.error("Hook setter: Hook not exist",t);if(!o.vElem)return console.error("Hook setter: Missing the vElem from the hook",o,t);o.state=t;const n=o.vElem.$elem;if(!n)return console.error("Hook setter: Missing element from vTree",o);this.hookKey=e,this.renderSubTree(n,o.build,o.props),this.hookKey=void 0}}useState(e){if(this.hookKey){let t=this.hookMap[this.hookKey];return t||(this.hookMap[this.hookKey]=t={id:this.hookKey}),t.setter||(t.state=e,t.setter=this.hookSetter(this.hookKey)),[t.state,t.setter]}return console.error("Use useState in functional component!"),[null,e=>{}]}useEffect(e,t){if(this.hookKey){let o=this.hookMap[this.hookKey];o||(this.hookMap[this.hookKey]=o={id:this.hookKey}),o.effect||(o.effect={mountCb:e,dep:t,lastDep:void 0,shouldRun:!0});const n=t?JSON.stringify(t):void 0;o.effect.shouldRun=!t||n!==o.effect.lastDep,o.effect.lastDep=n}else console.error("Use useEffect in functional component!")}useRef(){return{current:null}}build(e,t={},...o){if(o=o?n.flat(o,1):[],"function"==typeof e){let n=Symbol("fn");t&&t.oldSym&&(n=t.oldSym,delete t.oldSym),this.hookKey=n;const r=e(t={...t||{},children:o});if(r.attrs.build=[e,t],"form"===r.tagName&&t.model&&this.attrDown(r.children,{model:t.model}),this.hookMap[n]){const o=this.hookMap[n];o.build=e,o.props=t,o.vElem=r,r.attrs.hookKey=n}return this.hookKey=void 0,r}return this.ce(e,{attrs:t,children:o})}loadPage(e,t){if(this.lastPageData=[e,t],document.title="Loading",!e||!e.length)return console.error("Missing route components");let o=this.build(e.pop(),t);do{const n=e.pop();if(!n)break;const r=this.build(n,t);r.children.push(o),o=r}while(void 0);o.parent={tagName:"div",attrs:{},children:[o]},this.$App?(this.$App=this.update(this.App,o)(this.$App),this.App=o):(this.App=o,this.$App=this.render(this.App),this.$App.vRef=this.App,this.$root.appendChild(this.$App))}refresh(){this.loadPage(...this.lastPageData)}}t.VDom=a,t.vDom=new a("#root"),t.build=t.vDom.build,t.Fragment=t.vDom.Fragment,t.ce=t.vDom.ce,t.mount=t.vDom.mount,t.render=t.vDom.render,t.renderElem=t.vDom.renderElem,t.refresh=t.vDom.refresh,t.removeElement=t.vDom.removeElement,t.renderSubTree=t.vDom.renderSubTree,t.attrDown=t.vDom.attrDown,t.useState=t.vDom.useState.bind(t.vDom),t.useEffect=t.vDom.useEffect.bind(t.vDom),t.useRef=t.vDom.useRef,window.vDom=t.vDom},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStyles=t.toStyle=void 0;const n=o(5),r=o(2),i={};let s;const a=(e,t)=>("number"==typeof t&&["opacity","zIndex","flex"].indexOf(e)<0&&(t+="px"),`${r.c2dashed(e)}: ${t};`),l=(e,t={},o="")=>{let r,i="";const s=[],c=[];let u,d;return n.objFor(e,(e,h)=>{if("&"===e[0])r=e.replace(/\&/g,o);else{if("@"===e[0])return r=e,d=e+" {\r\n",c.length=0,n.objFor(h,(e,o)=>{if(void 0!==o)if("object"==typeof o){t[e]||(t[e]={});const[n,r]=l({[e]:o},{},"");c.push(r),t[e]=n}else d+="\t"+a(e,o)+"\r\n"}),d+=c.join("")+"}\r\n",s.push(d),[t[r],u];i="p_"+Math.random().toString(36).substring(2),r=`${o?o+" ":""}.${i}`,t[e]=i}u=r+" { \r\n",n.objFor(h,(e,o)=>{if(void 0!==o)if("object"==typeof o){t[e]||(t[e]={});const[n,i]=l({[e]:o},t[e],r);s.push(i),t[e]=n}else u+="\t"+a(e,o)+"\r\n"}),s.push(u+"}\r\n\r\n")}),[t,s.join("")]};t.toStyle=e=>{const t=[];return n.objFor(e,(e,o)=>void 0!==o&&t.push(a(e,o))),t.join("")};t.createStyles=function(e,t){const o=Object.keys(e);if(!o.length)return{};const n=btoa(JSON.stringify(o));if(i[n])return i[n];const r=s||(s=document.head||document.getElementsByTagName("head")[0]),[a,c]=l(e);i[n]=a;const u=document.createElement("style");return u.type="text/css",u.setAttribute("data-id","custom component "+(t||"")),u.appendChild(document.createTextNode(c)),r.appendChild(u),a}},function(e,t,o){"use strict";function n(e=[],t="id"){const o=new Array;return o.length=e.length,o.valueMap={},e.forEach((e,n)=>{o[n]=e,o.valueMap[e[t]]=e}),o.add=function(e){o.push(e),o.valueMap[e[t]]=e},o.remove=function(e){o.splice(o.findIndex(o=>o[t]===e),1),delete o.valueMap[e]},o}Object.defineProperty(t,"__esModule",{value:!0}),t.array2ArrayMap=t.createTreeValueMap=t.getDeepProp=t.fPromise=t.c2dashed=t.u2capitalize=t.d2capitalize=t.capitalize=t.betweenNr=t.arrayToMap=t.delay=t.guid=t.classAutobind=void 0,t.classAutobind=(e,t=[])=>{const o=e.constructor.prototype;Object.getOwnPropertyNames(o).filter(e=>"function"==typeof o[e]&&"constructor"!==e).filter(e=>!~t.indexOf(e)).forEach(t=>e[t]=e[t].bind(e))},t.guid=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),t.delay=e=>new Promise(t=>{setTimeout(()=>t(),1e3*e)}),t.arrayToMap=e=>{const t={};return e.forEach((e,o)=>{t[e]=o,t[o]=e}),t},t.betweenNr=(e,[t,o])=>Math.max(Math.min(e,o),t),t.capitalize=e=>e[0].toUpperCase()+e.substr(1),t.d2capitalize=e=>e.replace(/(^|\-)./g,e=>e.slice(-1).toUpperCase()),t.u2capitalize=e=>e.replace(/(^|_)./g,e=>e.slice(-1).toUpperCase()),t.c2dashed=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),t.fPromise=function(e){if(!1===e.isPending)return e;const t=("function"==typeof e?new Promise(e):e).then(e=>(t.isResolved=!0,t.result=e,e)).catch(e=>{throw t.isRejected=!0,t.result=e,e}).finally(()=>{t.isPending=!1});return t.isPending=!0,t.isResolved=!1,t.isRejected=!1,t.result=void 0,t},t.getDeepProp=function(e={},t="",o){const n=t.split("."),r=n.length;let i=0;for(;i<r&&e;i++)e=e[n[i]];return i===r&&e?e:o},t.createTreeValueMap=function(e=[],t="id",o){const r=n(e);return r.valueMap[0]={id:0,parent_id:-1,$childs:[],...o},r.forEach(e=>{const t=r.valueMap[e.parent_id];t&&(t.$childs=t.$childs?[...t.$childs,e]:[e])}),r},t.array2ArrayMap=n},function(e,t,o){"use strict";function n(e){for(const t in e)this[t]=e[t];this.original=e,this.preventDefault=function(){this.original.preventDefault()}}Object.defineProperty(t,"__esModule",{value:!0}),t.events=void 0;t.events=new class{constructor(){this.$nodeEventMap=new WeakMap([]),this.listeners={},this.autoPreventable=["submit"],this.customTarget={popstate:window},this.onDispatch=this.onDispatch.bind(this),this.addListener=this.addListener.bind(this)}clone(e,t){const o=new n(t);return o.target=e,o}onDispatch(e){const t=e.type;~this.autoPreventable.indexOf(t)&&e.preventDefault(),this.listeners[t].forEach(([t,o])=>{if("boolean"==typeof t){if(t)return o(e)}else if("function"==typeof t){if(t(e))return o(e)}else if("object"==typeof t){const n=t;return(n===e.target||n.contains(e.target))&&o(this.clone(n,e))}})}addListener(e,t,o){let n;if("object"==typeof e&&e.nodeType){const r=e,i=this.$nodeEventMap.get(r)||[];if(~i.indexOf(t))return;i.splice(0,0,t),this.$nodeEventMap.set(r,i),n=[e,o]}else n=[e,o];this.listeners[t]||(this.getTarget(t).addEventListener(t,this.onDispatch,!0),this.listeners[t]=[]),this.listeners[t].push(n)}removeListener(e,t){let o,n;if("object"==typeof e){const r=e;if(!this.$nodeEventMap.has(r))return;o=t?[t]:this.$nodeEventMap.get(r),n=([e,t])=>e!==r,this.$nodeEventMap.delete(r)}else o=[t],n=([t,o])=>o!==e;o.forEach(e=>{this.listeners[e]=this.listeners[e].filter(n),this.listeners[e].length||this.getTarget(e).removeEventListener(e,this.onDispatch)})}getTarget(e){return this.customTarget[e]?this.customTarget[e]:document}},window.events=t.events},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(0),r=o(1),i=[["Home","/home"],["Todos","/todo"]],s=r.createStyles({"&body":{padding:0,margin:0},navMenu:{backgroundColor:"#ddd",padding:0,margin:0,boxSizing:"border-box",textAlign:"center",display:"block"},navItem:{padding:16,color:"#000",backgroundColor:"#eee",transition:"0.7s",display:"inline-block","&:hover":{color:"#fff"}}});t.default=()=>n.build("div",{className:s.navMenu},i.map(([e,t])=>n.build("a",{href:t,className:s.navItem,title:"go to: "+t}," ",e," ")))},function(e,t,o){"use strict";function n(e,t){const o=e.length,n=t.length;let r=0;for(e.length=o+n;r<n;r++)e[o+r]=t[r];return e}Object.defineProperty(t,"__esModule",{value:!0}),t.objValues=t.objMap=t.objMerge=t.objConcat=t.objFor=t.toArray=t.map=t.forEach=t.concat=t.flat=void 0,t.flat=function e(t,o=1){const r=t.length,i=[];let s=0;for(;s<r;s++)Array.isArray(t[s])?n(i,o?e(t[s],o-1):t[s]):i.push(t[s]);return i},t.concat=n,t.forEach=function(e,t){const o=e.length;let n=0;for(;n<o;n++)t(e[n],n)},t.map=function(e,t){const o=[],n=e.length;o.length=n;let r=0;for(;r<n;r++)o[r]=t(e[r],r);return o},t.toArray=function(e){return Array.prototype.slice.call(e)},t.objFor=function(e,t){let o;for(o in e)t(o,e[o])},t.objConcat=function(e,t){const o={};let n;for(n in e)o[n]=e[n];for(n in t)o[n]=t[n];return o},t.objMerge=function(e,t){let o;for(o in e||(e={}),t)e[o]=t[o];return e},t.objMap=function(e,t){const o={};let n;for(n in e)o[n]=t(e[n]);return o},t.objValues=function(e){const t=[];let o;for(o in e)t.push(e[o]);return t}},function(e,t,o){e.exports=o(7)},function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(8),i=n(o(10)),s=n(o(12)),a=o(0),l={$routeList:[["",[],i.default,null],["home",[],i.default,null],["todo",[],s.default,null],["todo/:id",["string"],s.default,null]],vDom:a.vDom,success:e=>{console.log("%c Route matched callback","color:#070;font-size:14px;",e.matchedUrl)},error:e=>{console.log("%c Route assignment missing","color:red;font-size:20px",e)}};r.router.init(l)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.router=t.Router=void 0;const n=o(9),r=o(3);class i{constructor(){this.events=r.events,this.MOUSE_BUTTON=["left","middle","right"],this.history=[],this.isValidUrl=e=>{e.startsWith("http")||(e="https://"+e);try{return new URL(e),!0}catch(e){return!1}};const{protocol:e,hostname:t}=location;this.URL_DATA={BASE:Object.freeze({PROTOCOL:e,HOSTNAME:t,DIR:"",ROOT:e+"//"+t}),DYNAMIC:{HASH:null,QUERY:{},URL:null,PARAMS:{}}},this.onClick=this.onClick.bind(this),this.onBack=this.onBack.bind(this),this.registerRouter(),this.getFullUrl()}getFullUrl(e=""){const t=this.URL_DATA.BASE.ROOT;return"/"!==t.substr(-1)&&e&&"/"!==e[0]&&(e="/"+e),t+e}init(e){this.config=e;const{URL:t}=this.getPath();this.history.push({url:t,title:"",props:null}),this.dispatchRoute(t)}registerRouter(){"complete"===document.readyState?this.createGlobalClickEvent():document.onreadystatechange=()=>{"complete"===document.readyState&&this.createGlobalClickEvent()}}createGlobalClickEvent(){this.events.addListener(!0,"click",this.onClick),this.events.addListener(!0,"popstate",this.onBack)}redirect(e,t,o=null,n=!1){const{ROOT:r}=this.URL_DATA.BASE,{URL:i}=this.getPath();e&&e!==i&&(this.addHistory(e,t,o,n),this.dispatchRoute(e))}addHistory(e,t,o,n){const{ROOT:r}=this.URL_DATA.BASE;history.pushState(null,t||"",r+e),history.replaceState(null,t||"",r+e),n||this.history.push({url:e,title:t,props:o})}removeLastUrlChunk(){if(!this.history.length)return;const{title:e,url:t}=this.history[this.history.length-1],o=("/"===t[0]?"":"/")+t.split("/").slice(0,-1).join("/");this.addHistory(o,e)}replaceUrlChunk(e,t=-1,o){const n=this.currentRoute.split("/");n.splice(-1,1,e),!o&&this.history.length&&(o=this.history[this.history.length-1].title),this.addHistory(n.join("/"),o)}onBack(e){const t=this.history.length;if(console.log("BACK",t,this.history),t<2)return history.back();this.history.pop();const{url:o,title:n,props:r}=this.history[t-2];this.redirect(o,n,r),e.preventDefault()}getTarget(e){let t,o=e,n=0;for(;n<3&&!(t=o.getAttribute("href"));n++)if(o=o.parentElement,!o)return console.warn("no href on clicked target also no parent");return t}onClick(e){const t=e;if(t.button>0)return console.log("it was not left click, it was "+(this.MOUSE_BUTTON[t.button]||"unknow")+" button");const o=e.target,n=this.getTarget(o);n&&("/"===n[0]?(e.preventDefault(),this.redirect(n)):"*"===n||console.log("normal link redirect to other page"))}getPath(){const{ROOT:e}=this.URL_DATA.BASE,t=window.location.hash,o=encodeURI(location.href),n=o.substring(e.length+1,o.length-t.length),r={},[i,s=!1]=n.split("?");return s&&s.length&&s.split("&").forEach(e=>{const[t,o]=e.split("=");r[t]=o}),this.URL_DATA.DYNAMIC={...this.URL_DATA.DYNAMIC,HASH:t.replace("#",""),QUERY:r,URL:i}}validateRoute(e,t){const o=t.urlArray.slice(t.depth),r={},[i,s,a,l]=e,c=i.split("/");if(1!==c.length||c[0]||o.length){if(c.length>o.length)return;for(let[e,t]of c.entries()){if(!t)return;if(":"===t[0]){if(t=t.substr(1),s){const t=s[Object.keys(r).length];if(!n.validate(o[e],t))return}r[t]=o[e]}else if(t!==o[e])return}}else;return t.depth+=c.length,Object.assign(t.params,{...r}),t.components.push(a),Array.isArray(l)&&t.depth<t.urlArray.length?this.validateRoute(l,t):(t.matchedUrl="/"+t.urlArray.join("/"),t)}setCurrentRoute(e){this.currentRoute=e.matchedUrl}dispatchRoute(e){let t;this.URL_DATA.DYNAMIC.PARAMS={};const o={depth:0,components:[],params:{},matchedUrl:"",urlArray:e.split("/").filter(e=>e),matchedRoute:[]},n=this.config.$routeList;for(const e of n)if(t=this.validateRoute(e,{...o,matchedRoute:e}),t)break;const{success:r,error:i}=this.config;t?(this.URL_DATA.DYNAMIC.PARAMS=t.params,this.setCurrentRoute(t),r&&r(t),this.config.vDom.loadPage(t.components,t.params)):(console.log("Route missmatch!",e),i&&i(e),this.redirect("/error/404","",{},!0))}}t.Router=i,t.router=new i,window.router=t.router},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.RULES=void 0,t.RULES={NUMBER:/^[0-9]+$/,PHONE:/^[\+ 0-9]+$/,ALPHA:/^[a-zA-Z]+$/,ALPHA_NUM:/^[a-zA-Z0-9]+$/,STR_AND_NUM:/^([0-9]+[a-zA-Z]+|[a-zA-Z]+[0-9]+|[a-zA-Z]+[0-9]+[a-zA-Z]+)$/,LOW_UP_NUM:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).*$/,SLUG:/^[a-zA-Z0-9-_]+$/,NAME:/^([a-zA-Z0-9 -]+)$/,NAME_HUN:/^([a-zA-Z0-9ÁÉÍÓÖŐÚÜŰÔÕÛáéíóöőúüűôõû -]+)$/,ADDRESS_HUN:/^([a-zA-Z0-9 ÁÉÍÓÖŐÚÜŰÔÕÛáéíóöőúüűôõû\,\.\-]+)$/,STRING:e=>e,EMAIL:/^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,4}$/,IP:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/},t.validate=(e,o)=>{const n=t.RULES[o];return"function"==typeof n?n(e):!!n&&n.test(e)}},function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(o(4)),i=o(1),s=n(o(11)),a=n(o(19)),l=o(0);s.default(),a.default();const c=i.createStyles({box:{maxWidth:500,margin:"auto",padding:16,borderRadius:16,backgroundColor:"rgba(0,0,0,0.2)",marginTop:32}});t.default=()=>(document.title="Home Page",l.build("div",null,l.build(r.default,null),l.build(l.Fragment,null,l.build("main",{className:c.box},l.build("p",null,"Welcome on PetraJS"),l.build("span",null,"This is a for fun view render, it use JSX elements and virtual dom, you can find the config in ",l.build("b",null,"tsconfig.json"))))))},function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});t.default=()=>{let e=class{constructor(e,t){this.name=e,this.age=t,this.pista=1,this.b=1,console.log("original constructor")}};e=n([function(e){console.log("decorator added at",new Date);const t=function(...t){return console.log("object was constructed at",new Date),console.log("with this arguments",t),new e(...t)};return t.prototype=e.prototype,t},r("design:paramtypes",[String,Number])],e),setTimeout(()=>{const t=new e("Azor",12);window.logClass=t,console.log(t)},3e3)}},function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(o(4)),i=o(0),s=o(1),a=n(o(13)),l=s.createStyles({box:{margin:"16px auto",width:300,padding:16,backgroundColor:"rgba(0,0,0,0.2)",border:"1px dotted rgba(0,0,0,0.5)",borderRadius:16}});t.default=()=>(document.title="Todo Page",i.build("div",null,i.build(r.default,null),i.build("div",{className:l.box},i.build(a.default,null))))},function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(0),i=o(1),s=n(o(14)),a=n(o(18)),l=i.createStyles({input:{width:"calc(100% - 16px)",marginBottom:16,padding:"4px 8px"}});t.default=()=>{const[e,t]=r.useState({loading:!0,todos:[],title:""}),{title:o}=e;r.useEffect(()=>{s.default.todoService.loadTodos().then(o=>{t({...e,todos:o,loading:!1}),s.default.todoService.todos=o})},[]);const n=async o=>{const n=await s.default.todoService.deleteTodo(o);t({...e,todos:n})};return r.build("div",null,e.loading&&r.build("div",{className:"linear-activity"},r.build("div",{className:"indeterminate"})),r.build("input",{className:l.input,style:{backgroundColor:`rgba(255,255,255,${o.length?1:.2})`},type:"text",value:o,onInput:o=>t({...e,title:o.target.value}),onKeyUp:n=>{if("Enter"===n.key&&o.length){s.default.todoService.addTodo(o);const r=s.default.todoService.todos;n.target.value="",t({...e,todos:r,title:""})}}}),e.todos.map(e=>r.build(a.default,Object.assign({},e,{onDelete:n}))))}},function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r={todoService:new(n(o(15)).default)};t.default=r},function(e,t,o){"use strict";var n,r,i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(2),c=o(16),u=a(o(17)),d=[{id:"longguuuiiiiddd1",title:"Buy flour",created:new Date},{id:"longgeerrrgguuuiiiiddd1",title:"Eat cake",created:new Date}];class h{constructor(){this.todos=[]}async loadTodos(){const e=3*Math.random();await l.delay(e);const t=JSON.parse(localStorage.getItem("todo")||"[]");return 0===t.length&&t.push(...d.map(e=>Object.assign(new u.default,e))),this.todos=t,t}async saveTodos(e){e||(e=this.todos),localStorage.setItem("todo",JSON.stringify(e))}addTodo(e){const t={id:Math.random().toString(),title:e,created:new Date};return this.todos.push(t),this.saveTodos(),t}deleteTodo(e){return this.todos=this.todos.filter(t=>t.id!==e),this.saveTodos(this.todos),this.todos}}i([c.Readonly({a:1,b:2}),s("design:type",Object)],h.prototype,"test",void 0),i([c.MeasureAsync,c.autobind,s("design:type",Function),s("design:paramtypes",[]),s("design:returntype","function"==typeof(n="undefined"!=typeof Promise&&Promise)?n:Object)],h.prototype,"loadTodos",null),i([c.MeasureAsync,c.autobind,s("design:type",Function),s("design:paramtypes",[Array]),s("design:returntype","function"==typeof(r="undefined"!=typeof Promise&&Promise)?r:Object)],h.prototype,"saveTodos",null),i([c.MeasureAsync,c.autobind,s("design:type",Function),s("design:paramtypes",[String]),s("design:returntype",void 0)],h.prototype,"addTodo",null),i([c.MeasureAsync,c.autobind,s("design:type",Function),s("design:paramtypes",[String]),s("design:returntype",void 0)],h.prototype,"deleteTodo",null),t.default=h,window.TodoService=h},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Min=t.Readonly=t.autobind=t.MeasureAsync=t.Measure=void 0,t.Measure=function(e,t,o){const n=o.value;return o.value=function(...e){const t=performance.now(),o=n.apply(this,e),r=performance.now();return console.log(`Execution time: ${r-t} milliseconds`),o},o},t.MeasureAsync=function(e,t,o){const n=o.value;return o.value=async function(...o){const r=performance.now(),i=await n.apply(e,o),s=performance.now();return console.info(`Execution time for "${t}": ${s-r} milliseconds`),i},o},t.autobind=function(e,t,o){"function"==typeof e[t]&&(e[t]=e[t].bind(e))},t.Readonly=e=>(t,o)=>{Object.defineProperty(t,o,{value:Object.freeze(e)})},t.Min=function(e){return function(t,o){let n;Object.defineProperty(t,o,{get:()=>n,set:r=>{if(r.length<e){const n=`Your ${o} property length is lower than ${e}`;Object.defineProperty(t,"errors",{value:n}),console.error(n)}else n=r}})}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(1),r=o(0),i=n.createStyles({item:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",transition:"0.3s","& span:last-child":{cursor:"pointer"},"&:hover":{backgroundColor:"rgba(0,0,0,0.1)"}}});t.default=({id:e,title:t,created:o,onDelete:n})=>r.build("div",{className:i.item},r.build("span",{children:t}),r.build("span",{children:"[DEL]",onClick:()=>n(e)}))},function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});t.default=()=>{const e=Symbol("history");let t=class{constructor(){this.id="134sdw4353-dfvde4354",this.text="first text",this.name="unsaved title"}show(){console.table(Object.entries(this).filter(e=>"function"!=typeof e[1]))}};t=n([function(t){const o=function(...o){const n=new t(...o);n[e]=[];let r=-1;const i=new Proxy(n,{set:(t,o,n)=>(t[o]!==n?(console.info("Object property was changed to: ",o," - ",n),t[e].push([o,t[o]]),r=t[e].length,Reflect.set(t,o,n)):console.warn("no more history"),!0)});return n.back=function(){if(0===n[e].length)return;const[t,o]=n[e].pop()||[];console.info("Object property was reseted to: ",t," - ",o),n[t]=o},n.showHistory=function(){console.table(n[e])},i};return o.prototype=t.prototype,o}],t);const o=new t;o.text="i changed the text",o.text="Third text",o.name="Updated entity name",o.text="Final looooooong text",window.entity=o,o.showHistory(),o.show()}}]);
//# sourceMappingURL=bundle.js.map